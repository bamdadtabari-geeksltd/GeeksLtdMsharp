@model ViewModel.ProjectTaskList
<!-- Modules\ProjectTask\ProjectTaskList.cs:8 -->
<form data-module="ProjectTaskList" method="get" action="@Url.Current()" data-redirect="ajax">
   @Html.AntiForgeryToken()
   @Html.StartupActionsJson()
   <div class="buttons-row top-buttons-row">
      <div class="buttons">
         <a name="AddTask" class="btn btn-primary" href='@Url.Index("ProjectTaskEnter", new { ReturnUrl = Url.Current() })' data-redirect="ajax" default-button="true"><i class="fas fa-plus"></i>
            Add task</a>
      </div>
   </div>
   <h2>Tasks</h2>
   @if (Model.Items.Any())
   {
   <text>
      <div class="grid-wrapper">
         <table class="grid">
            <thead>
               <tr>
                  <th>View</th>
                  <th>Project</th>
                  <th>Title</th>
                  <th>Description</th>
                  <th>Is done?</th>
                  <th>Edit</th>
                  <th>Delete</th>
               </tr>
            </thead>
            <tbody>
               @foreach (var listItem in Model.Items)
               {
               var item = listItem.Item;
               <tr>
                  <td><a name="View" href='@Url.Index("ProjectTaskView", new { item = item.ID, ReturnUrl = Url.Current() })' data-redirect="ajax">View</a></td>
                  <td>@item.Project</td>
                  <td>@item.Title</td>
                  <td>@item.Description</td>
                  <td>@if (item.Done) {
                     <i title="yes" class="fa-check fa"></i>
                     }</td>
                  <td><a name="Edit" class="btn btn-secondary" href='@Url.Index("ProjectTaskEdit", new { item = item.ID })' target="$modal"><i class="fas fa-edit"></i>
                        Edit</a></td>
                  <td><button type="submit" name="Delete" class="btn-danger btn" formaction='@Url.ActionWithQuery("ProjectTaskList/Delete", item)' data-confirm-question="Are you sure you want to delete this Task?"><i class="fas fa-times"></i>
                        Delete</button></td>
               </tr>
               }
            </tbody>
            <tfoot>
               <tr>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
               </tr>
            </tfoot>
         </table>
      </div>
      <input type="hidden" name="p" id="p" value="@Model.Paging" />
      @Html.Pagination(Model.Paging, new { @class="pagination" })
   </text>
   }
   @if (Model.Items.None())
   {
   <div class="empty-list">
      There are no project Tasks to display.
   </div>
   }
</form>
